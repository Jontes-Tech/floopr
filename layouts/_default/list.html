{{ partial "header.html" . }}

<h1>{{ replace .Title "SLASH" "/"}}</h1>

{{$url := cond hugo.IsProduction "https://cdn.jsdelivr.net/gh/Jontes-Tech/floopr@master/static" ""}}
{{ .Content }} {{ range .Paginator.Pages }}
<div class="container">
  <div style="font-size:20px;">
       <a href={{.RelPermalink}}>{{.Title}}</a>
  </div>
  <div style="color:grey; font-size:16px;">{{ if .Params.authors }}<strong>Contributor(s):</strong> {{range .Params.authors}}<a href="{{ "/authors/" | relLangURL }}{{ . | urlize }}">{{ . }}</a> {{end}}{{end}}</div>
  <div class="info">{{ if .Params.key }}<strong>Key: </strong><a href="{{ "/key/" | relLangURL }}{{ .Params.key | urlize }}">{{ .Params.key}}</a>{{end}}</div>
  <div class="info">{{ if .Params.timesig }}<strong>Time Signature: </strong><a href="{{ "/timesig/" | relLangURL }}{{ .Params.timesig | lower}}">{{ replace .Params.timesig "SLASH" "/"}}</a>{{end}}</div>
  <div class="info">{{ if .Params.tempo }}<strong>Tempo: </strong><a href="{{ "/tempo/" | relLangURL }}{{ .Params.tempo | urlize }}">{{ .Params.tempo }} BPM</a>{{end}}</div>
  <div class="info">{{ if .Params.type }}<strong>Type: </strong><a href="{{ "/type/" | relLangURL }}{{ .Params.type }}">{{ .Params.type }}</a>{{end}}</div>
  <br>

    <audio controls loop>
      <source src="{{$url}}/audio/{{.Page.File.Dir}}{{.Page.File.BaseFileName}}" />
      {{if fileExists "{{$url}}/audio/{{.Page.File.Dir}}{{.Page.File.BaseFileName}}.audio"}}
      <source src="{{$url}}/audio/{{.Page.File.Dir}}{{.Page.File.BaseFileName}}.audio">
      {{end}}
      Your browser does not support the audio element.
    </audio>
    <br>
    <a href="{{$url}}/audio/{{.Page.File.Dir}}{{.Page.File.BaseFileName}}" download="flooper-{{.Page.File.BaseFileName}}" class="dl">Download</a>
</div>
{{ end }} {{ partial "pagination" . }} {{ partial "footer.html" . }}
